<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Echo - Multi-Platform Ghost Writer</title>
    <link rel="stylesheet" href="popup.css">
    <link rel="stylesheet" href="platform-ui.css">
</head>

<body>
    <div id="echo-popup">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path
                        d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z" />
                    <path d="M8 12h.01M12 12h.01M16 12h.01" stroke-linecap="round" />
                </svg>
                <span class="logo-text">Echo</span>
            </div>
            <button id="settings-btn" class="icon-btn" title="Settings">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3" />
                    <path
                        d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" />
                </svg>
            </button>
        </header>

        <!-- Main View -->
        <main id="main-view" class="view active">
            <!-- Platform Bar (Icon Navigation) -->
            <div class="platform-bar">
                <button class="platform-icon active" data-platform="linkedin" title="LinkedIn">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path
                            d="M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z">
                        </path>
                    </svg>
                </button>
                <button class="platform-icon" data-platform="reddit" title="Reddit">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path
                            d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z" />
                    </svg>
                </button>
                <button class="platform-icon" data-platform="x" title="X (Twitter)">
                    <img src="../assets/images/twitter.png" alt="X" width="20" height="20" style="border-radius: 4px;">
                </button>

            </div>

            <!-- LinkedIn Context Card -->
            <div class="context-card" data-platform="linkedin">
                <div class="context-header">
                    <span class="context-label">Active: LinkedIn</span>
                </div>

                <div class="status-card">
                    <div class="status-indicator" id="status-indicator">
                        <span class="status-dot"></span>
                        <span class="status-text">PAUSED</span>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="master-toggle">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="status-card autopilot-card">
                    <div class="status-indicator" id="autopilot-indicator">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            style="width: 16px; height: 16px; margin-right: 8px;">
                            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
                        </svg>
                        <span class="status-text">Auto-Pilot</span>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="autopilot-toggle">
                        <span class="toggle-slider autopilot-slider"></span>
                    </label>
                </div>

                <div class="tone-selector">
                    <span class="section-label">Current Tone</span>
                    <div class="tone-options">
                        <label class="tone-option">
                            <input type="radio" name="quick-tone" value="professional" checked>
                            <span class="tone-label">Professional</span>
                        </label>
                        <label class="tone-option">
                            <input type="radio" name="quick-tone" value="casual">
                            <span class="tone-label">Casual</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Reddit Context Card -->
            <div class="context-card" data-platform="reddit" style="display: none;">
                <div class="context-header">
                    <span class="context-label">Active: Reddit</span>
                </div>

                <div class="status-card">
                    <div class="status-indicator" id="reddit-status-indicator">
                        <span class="status-dot"></span>
                        <span class="status-text">PAUSED</span>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" class="reddit-master-toggle">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="tone-selector">
                    <span class="section-label">Current Tone</span>
                    <div class="tone-options">
                        <label class="tone-option">
                            <input type="radio" name="reddit-tone" value="witty" checked>
                            <span class="tone-label">Witty</span>
                        </label>
                        <label class="tone-option">
                            <input type="radio" name="reddit-tone" value="snarky">
                            <span class="tone-label">Snarky</span>
                        </label>
                    </div>
                </div>

                <!-- X Context Card -->
                <div class="context-card" data-platform="x" style="display: none;">
                    <div class="context-header">
                        <span class="context-label">Active: X (Twitter)</span>
                    </div>

                    <div class="status-card">
                        <div class="status-indicator" id="x-status-indicator">
                            <span class="status-dot"></span>
                            <span class="status-text">PAUSED</span>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" class="x-master-toggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="tone-selector">
                        <span class="section-label">Current Tone</span>
                        <div class="tone-options">
                            <label class="tone-option">
                                <input type="radio" name="x-tone" value="shitposter" checked>
                                <span class="tone-label">ü§™ Shitposter</span>
                            </label>
                            <label class="tone-option">
                                <input type="radio" name="x-tone" value="contrarian">
                                <span class="tone-label">ü§î Contrarian</span>
                            </label>
                            <label class="tone-option">
                                <input type="radio" name="x-tone" value="builder">
                                <span class="tone-label">üõ†Ô∏è Builder</span>
                            </label>
                            <label class="tone-option">
                                <input type="radio" name="x-tone" value="threadboi">
                                <span class="tone-label">üßµ Thread-Boi</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Footer (Always Visible) -->
                <div class="popup-footer">
                    <!-- Dashboard Button -->
                    <button id="open-dashboard" class="dashboard-btn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 20V10M12 20V4M6 20v-6" />
                        </svg>
                        Open Dashboard
                    </button>

                    <!-- Activity Log -->
                    <div class="activity-section">
                        <span class="section-label">Recent Activity</span>
                        <div class="activity-log" id="activity-log">
                            <div class="activity-empty">No activity yet. Enable Echo and browse.</div>
                        </div>
                    </div>
                </div>
        </main>

        <!-- Settings View (Identity Control Center) -->
        <main id="settings-view" class="view settings-modal">
            <div class="settings-header">
                <button id="back-btn" class="icon-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7" />
                    </svg>
                </button>
                <h2>Echo Settings</h2>
            </div>

            <div class="settings-container">
                <!-- Left Sidebar Navigation (Icons Only) -->
                <nav class="settings-sidebar">
                    <button class="nav-item active" data-section="api" title="AI Brain">
                        <img src="../assets/images/ai.png" alt="AI" class="nav-icon-img">
                    </button>
                    <button class="nav-item" data-section="system" title="System">
                        <img src="../assets/images/setting.png" alt="Settings" class="nav-icon-img">
                    </button>
                    <div class="sidebar-divider"></div>
                    <button class="nav-item" data-section="linkedin" title="LinkedIn">
                        <img src="../assets/images/linkedin.png" alt="LinkedIn" class="nav-icon-img">
                    </button>
                    <button class="nav-item" data-section="reddit" title="Reddit">
                        <img src="../assets/images/reddit.png" alt="Reddit" class="nav-icon-img">
                    </button>
                    <button class="nav-item" data-section="x" title="X (Twitter)">
                        <img src="../assets/images/twitter.png" alt="X" class="nav-icon-img">
                    </button>
                </nav>

                <!-- Right Content Area (Canvas) -->
                <div class="settings-canvas">
                    <!-- API & Brain Section -->
                    <div class="settings-section active" data-section="api">
                        <div class="section-header">
                            <h3>AI Configuration</h3>
                            <p class="section-desc">Manage your API keys and model preferences</p>
                        </div>
                        <div class="form-group">
                            <label for="api-key">API Key</label>
                            <div class="input-with-icon">
                                <span class="input-icon">üîë</span>
                                <input type="password" id="api-key" class="filled-input"
                                    placeholder="Enter your API key..." autocomplete="off">
                                <button id="toggle-key-visibility" class="icon-btn small" type="button">
                                    <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                                        <circle cx="12" cy="12" r="3" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Provider</label>
                            <div class="provider-select">
                                <label class="provider-option">
                                    <input type="radio" name="api-provider" value="openai" checked>
                                    <span class="provider-card">
                                        <span class="provider-name">OpenAI</span>
                                        <span class="provider-model">GPT-4o</span>
                                    </span>
                                </label>
                                <label class="provider-option">
                                    <input type="radio" name="api-provider" value="gemini">
                                    <span class="provider-card">
                                        <span class="provider-name">Gemini</span>
                                        <span class="provider-model">1.5 Flash</span>
                                    </span>
                                </label>
                                <label class="provider-option">
                                    <input type="radio" name="api-provider" value="deepseek">
                                    <span class="provider-card">
                                        <span class="provider-name">DeepSeek</span>
                                        <span class="provider-model">Chat</span>
                                    </span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- LinkedIn Section -->
                    <div class="settings-section" data-section="linkedin">
                        <div class="section-header">
                            <h3>LinkedIn Persona</h3>
                            <p class="section-desc">Define how you sound on LinkedIn</p>
                        </div>
                        <div class="form-group">
                            <label for="linkedin-voice">My Voice</label>
                            <div class="voice-editor-wrapper">
                                <textarea id="linkedin-voice" class="voice-editor" rows="5"
                                    placeholder="I'm casual and witty. I use technical analogies but keep things accessible. I always add value..."></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Response Length</label>
                            <div class="slider-wrapper modern">
                                <span class="slider-label">Short</span>
                                <input type="range" id="linkedin-length" class="modern-slider" min="1" max="3"
                                    value="2">
                                <span class="slider-label">Long</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="linkedin-creators-only">
                                <span class="checkbox-custom"></span>
                                <span>Reply to Creators only</span>
                            </label>
                        </div>
                    </div>

                    <!-- Reddit Section -->
                    <div class="settings-section" data-section="reddit">
                        <div class="section-header">
                            <h3>Reddit Persona</h3>
                            <p class="section-desc">Define how you sound on Reddit</p>
                        </div>
                        <div class="form-group">
                            <label for="reddit-voice">My Voice</label>
                            <div class="voice-editor-wrapper">
                                <textarea id="reddit-voice" class="voice-editor" rows="5"
                                    placeholder="I'm a cynical dev who hates startup buzzwords. Keep it short and snarky..."></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="subreddit-filter">Subreddit Filter</label>
                            <p class="helper-text">Only comment on these subreddits (comma-separated)</p>
                            <input type="text" id="subreddit-filter" class="filled-input"
                                placeholder="SaaS, webdev, programming">
                        </div>
                        <div class="form-group">
                            <label for="subreddit-blacklist">Blacklisted Subreddits</label>
                            <input type="text" id="subreddit-blacklist" class="filled-input"
                                placeholder="politics, news">
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="reddit-ignore-hiring">
                                <span class="checkbox-custom"></span>
                                <span>Ignore 'Hiring' posts</span>
                            </label>
                        </div>
                    </div>

                    <!-- X (Twitter) Section -->
                    <div class="settings-section" data-section="x">
                        <div class="section-header">
                            <h3>X (Twitter) Persona</h3>
                            <p class="section-desc">Define how you sound on X</p>
                        </div>
                        <div class="form-group">
                            <label for="x-voice">My Voice</label>
                            <div class="voice-editor-wrapper">
                                <textarea id="x-voice" class="voice-editor" rows="5"
                                    placeholder="I'm a chaotic shitposter who never capitalizes. Keep it under 100 chars..."></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="x-blacklist">Blacklisted Words</label>
                            <p class="helper-text">Skip tweets containing these words (comma-separated)</p>
                            <input type="text" id="x-blacklist" class="filled-input"
                                placeholder="politics, crypto, nft">
                        </div>
                    </div>

                    <!-- System Section -->
                    <div class="settings-section" data-section="system">
                        <div class="section-header">
                            <h3>System Settings</h3>
                            <p class="section-desc">Configure Echo's behavior</p>
                        </div>
                        <div class="form-group">
                            <label>Typing Speed</label>
                            <div class="slider-wrapper modern">
                                <span class="slider-label">Fast</span>
                                <input type="range" id="delay-timer" class="modern-slider" min="1" max="3" value="2">
                                <span class="slider-label">Human</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Auto-Scroll Speed</label>
                            <div class="slider-wrapper modern">
                                <span class="slider-label">Slow</span>
                                <input type="range" id="scroll-speed" class="modern-slider" min="1" max="3" value="2">
                                <span class="slider-label">Fast</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Glassmorphism Action Bar -->
            <div class="settings-action-bar">
                <button id="cancel-settings" class="btn-secondary">Cancel</button>
                <button id="save-settings" class="btn-primary">Save Changes</button>
            </div>
        </main>

        <!-- Onboarding View -->
        <main id="onboarding-view" class="view">
            <div class="onboarding-content">
                <div class="onboarding-step" data-step="1">
                    <div class="onboarding-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path
                                d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z" />
                        </svg>
                    </div>
                    <h2>Welcome to Echo</h2>
                    <p>Let's teach Echo your voice in 2 simple steps.</p>
                    <button class="btn-primary" data-next="2">Get Started</button>
                </div>

                <div class="onboarding-step" data-step="2" style="display: none;">
                    <h3>Step 1: Enter your API Key</h3>
                    <p class="helper-text">You'll need an OpenAI or Gemini API key to generate comments.</p>
                    <div class="form-group">
                        <select id="onboard-provider">
                            <option value="openai">OpenAI</option>
                            <option value="gemini">Gemini</option>
                            <option value="deepseek">DeepSeek</option>
                        </select>
                        <input type="password" id="onboard-api-key" placeholder="Paste your API key here...">
                    </div>
                    <button class="btn-primary" data-next="3">Continue</button>
                </div>

                <div class="onboarding-step" data-step="3" style="display: none;">
                    <h3>Step 2: Define your voice</h3>
                    <p class="helper-text">How do you usually write? Be specific!</p>
                    <textarea id="onboard-voice" rows="4"
                        placeholder="Example: I write short, punchy comments. I use humor and avoid buzzwords. I always add value to the conversation."></textarea>
                    <button class="btn-primary" id="complete-onboarding">Start Using Echo</button>
                </div>
            </div>
        </main>
    </div>

    <script src="popup.js"></script>
</body>

</html>